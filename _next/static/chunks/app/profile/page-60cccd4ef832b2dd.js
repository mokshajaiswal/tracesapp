(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{62:(e,t,s)=>{"use strict";s.d(t,{A:()=>x});var a=s(5155);let l=(0,s(9946).A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);var n=s(492),i=s(7580),r=s(6766),c=s(6048);function o(e,t){if(!e)return"";let s=e.split(" ");return s.length>t?s.slice(0,t).join(" ")+"...":e}function d(e){let{type:t}=e,s={image:"/attachment/image.png",video:"/attachment/video.png",audio:"/attachment/audio.png",note:"/attachment/note.png"}[t];return s?(0,a.jsx)(r.default,{src:s,alt:"".concat(t," icon"),width:25,height:25,className:"object-contain drop-shadow pb-1"}):null}function x(e){let{onClick:t,title:s,subtitle:r,hashtags:x,distance:h,theme:m="pink",titleWordLimit:u,subtitleWordLimit:p,attachmentIcons:g=[],totalAttachments:f,author:j,isFriend:y}=e,b=u?o(s,u):s,v=p?o(r,p):r,N=(0,c.BO)(h),k={pink:{container:"bg-pink-50 border-pink-200",pill:"bg-white/80 border-pink-200 text-pink-800",hashtag:"bg-pink-100/80 text-pink-800"},blue:{container:"bg-blue-50 border-blue-200",pill:"bg-white/80 border-blue-200 text-blue-800",hashtag:"bg-blue-100/80 text-blue-800"},green:{container:"bg-green-50 border-green-200",pill:"bg-white/80 border-green-200 text-green-800",hashtag:"bg-green-100/80 text-green-800"},orange:{container:"bg-orange-50 border-orange-200",pill:"bg-white/80 border-orange-200 text-orange-800",hashtag:"bg-orange-100/80 text-orange-800"}},w=k[m]||k.pink;return(0,a.jsxs)("button",{onClick:t,className:"flex flex-col p-5 space-y-2 rounded-3xl border text-left ".concat(w.container),children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("div",{className:"flex items-center h-[34px] ".concat(2!==f?"space-x-1.5":"w-10"),children:0===f?(0,a.jsx)(l,{size:20,className:"text-slate-500"}):2===f&&2===g.length?(0,a.jsx)("div",{className:"relative w-10 h-10 flex items-center justify-center",children:g.map((e,t)=>(0,a.jsx)("div",{className:"absolute transition-transform duration-300 \n                ".concat(0===t?"-rotate-[15deg] z-10 -translate-x-1.5":"rotate-[15deg] z-0 translate-x-1.5"),children:(0,a.jsx)(d,{type:e})},e))}):f>3?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-slate-600",children:f}),(0,a.jsx)(n.A,{size:16,className:"text-slate-500"})]}):g.map(e=>(0,a.jsx)(d,{type:e},e))}),"..."!==N&&(0,a.jsx)("div",{className:"px-3 py-1 text-xs font-medium rounded-full border ".concat(w.pill," -mr-2"),children:N})]}),(0,a.jsxs)("div",{className:"flex flex-col space-y-1 flex-grow mt-2",children:[j&&(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-xs font-medium text-gray-500 mb-1",children:[(0,a.jsxs)("span",{children:["By ",j]}),y&&(0,a.jsx)(i.A,{size:14,className:"text-blue-500"})]}),(0,a.jsx)("h2",{className:"text-lg font-bold text-slate-800 tracking-tight",children:b}),(0,a.jsx)("p",{className:"text-sm text-slate-500 leading-relaxed",children:v})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:x.slice(0,3).map(e=>(0,a.jsx)("span",{className:"inline-block px-2.5 py-1 text-xs font-semibold rounded-full ".concat(w.hashtag),children:e},e))})]})}},492:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]])},1007:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5153:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var a=s(5155),l=s(2115),n=s(3418),i=s(9946);let r=(0,i.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var c=s(1007);let o=(0,i.A)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var d=s(7580);let x=(0,i.A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),h=(0,i.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var m=s(4416),u=s(760),p=s(8274),g=s(6656),f=s(5169);let j=(0,i.A)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),y=(0,i.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),b=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center text-gray-800",children:t})};function v(e){let{onClose:t}=e;return(0,a.jsxs)(p.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",ease:[.1,.1,.1,1],duration:.5},className:"fixed inset-0 z-40 bg-white p-4 overflow-y-auto",children:[(0,a.jsx)("header",{className:"flex items-center mb-8",children:(0,a.jsx)("button",{onClick:t,className:"p-2 -ml-2",children:(0,a.jsx)(f.A,{size:24})})}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Find friends from other apps"}),(0,a.jsx)("div",{className:"p-4 bg-pink-50 rounded-2xl",children:(0,a.jsxs)("div",{className:"flex justify-around",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 text-sm font-medium text-gray-600",children:[(0,a.jsx)(b,{children:(0,a.jsx)(j,{size:28})}),(0,a.jsx)("span",{children:"Instagram"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 text-sm font-medium text-gray-600",children:[(0,a.jsx)("div",{className:"w-14 h-14 bg-yellow-300 rounded-full"}),(0,a.jsx)("span",{children:"SnapChat"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 text-sm font-medium text-gray-600",children:[(0,a.jsx)("div",{className:"w-14 h-14 bg-green-500 rounded-full"}),(0,a.jsx)("span",{children:"Whatsapp"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 text-sm font-medium text-gray-600",children:[(0,a.jsx)(b,{children:(0,a.jsx)(y,{size:28})}),(0,a.jsx)("span",{children:"Copy Link"})]})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[(0,a.jsx)(d.A,{size:20,className:"text-gray-500"}),"Your Friends"]}),(0,a.jsx)("div",{className:"space-y-2",children:g.QS.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-pink-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"font-bold text-pink-700",children:(e=>{let t=e.split(" ");return t.length>1&&t[t.length-1]?"".concat(t[0][0]).concat(t[t.length-1][0]).toUpperCase():e.substring(0,2).toUpperCase()})(e)})}),(0,a.jsx)("span",{className:"font-medium text-gray-800",children:e})]}),(0,a.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-500",children:(0,a.jsx)(m.A,{size:20})})]},e))})]})]})]})}var N=s(8706),k=s(62),w=s(4631),A=s(6048);function z(e){let{onClose:t}=e,{unlockedTraceIds:s}=(0,N.r)(),{userName:i}=(0,n.J)(),[r,c]=(0,l.useState)([]),[o,d]=(0,l.useState)(null),[x,h]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=()=>{x&&h(null)};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[x]),(0,l.useEffect)(()=>{let e=JSON.parse(localStorage.getItem(g.rV)||"[]");c([...g.Tf,...e])},[]),(0,l.useEffect)(()=>{navigator.geolocation.getCurrentPosition(e=>{d({lat:e.coords.latitude,lng:e.coords.longitude})})},[]);let m=(0,l.useMemo)(()=>r.filter(e=>s.includes(e.id)),[r,s]),j=()=>{history.back(),h(null)},y=e=>{let t=o?(0,A.Yf)(o,e.location):null,{attachmentIcons:s,totalAttachments:l}=(0,A.KL)(e.attachments),n=e.author===i,r=g.QS.includes(e.author),c="blue";return n?c="orange":e.isPrivate?c="pink":r&&(c="green"),(0,a.jsx)(k.A,{onClick:()=>{history.pushState({traceId:e.id},""),h(e)},title:e.title,subtitle:e.description?e.description.substring(0,100):"",hashtags:e.hashtags||[],distance:t,author:e.author,attachmentIcons:s,totalAttachments:l,theme:c,isFriend:r},e.id)},b=m.filter((e,t)=>t%2==0),v=m.filter((e,t)=>t%2!=0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(p.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",ease:[.1,.1,.1,1],duration:.5},className:"fixed inset-0 z-40 bg-white overflow-y-auto p-4",children:[(0,a.jsxs)("header",{className:"flex items-center mb-6",children:[(0,a.jsx)("button",{onClick:t,className:"p-2 -ml-2",children:(0,a.jsx)(f.A,{size:24})}),(0,a.jsx)("h1",{className:"text-xl font-bold mx-auto",children:"Saved Traces"}),(0,a.jsx)("div",{className:"w-8 h-8"})]}),m.length>0?(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"flex flex-col space-y-4",children:b.map(y)}),(0,a.jsx)("div",{className:"flex flex-col space-y-4",children:v.map(y)})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full -mt-16 text-center",children:[(0,a.jsx)("p",{className:"text-gray-500",children:"You haven't unlocked any traces yet."}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Go to the Explore page to find and unlock new traces!"})]})]}),(0,a.jsx)(u.N,{children:x&&(()=>{let e=o?(0,A.Yf)(o,x.location):null,t=g.QS.includes(x.author),s={...x,distance:(0,A.BO)(e),isFriend:t};return(0,a.jsx)(p.P.div,{className:"fixed inset-0 z-50 bg-white",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",ease:[.1,.1,.1,1],duration:.5},children:(0,a.jsx)(w.A,{trace:s,onBack:j})})})()})]})}let C=e=>{let{icon:t,text:s,onClick:l}=e;return(0,a.jsxs)("button",{onClick:l,className:"w-full flex items-center p-3 -mx-3 rounded-xl hover:bg-gray-100 transition-colors text-left",children:[(0,a.jsx)("div",{className:"mr-4 text-gray-600",children:t}),(0,a.jsx)("span",{className:"flex-grow font-medium text-gray-800",children:s}),(0,a.jsx)(r,{size:20,className:"text-gray-400"})]})};function S(){let{userName:e,setUserName:t}=(0,n.J)(),[s,i]=(0,l.useState)(!1),[r,g]=(0,l.useState)(e),[f,j]=(0,l.useState)(!1),[y,b]=(0,l.useState)(!1),N=(0,l.useRef)(null),k=e=>{history.pushState({modal:!0},""),e(!0)},w=[{icon:(0,a.jsx)(c.A,{size:24}),text:"Edit Profile",onClick:()=>{g(e),k(i)}},{icon:(0,a.jsx)(o,{size:24}),text:"Saved Traces",onClick:()=>k(b)},{icon:(0,a.jsx)(d.A,{size:24}),text:"Friends",onClick:()=>k(j)},{icon:(0,a.jsx)(x,{size:24}),text:"Account Settings",onClick:()=>alert("Account Settings page coming soon!")}];(0,l.useEffect)(()=>{let e=()=>{s?i(!1):f?j(!1):y&&b(!1)};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[s,f,y]),(0,l.useEffect)(()=>{s&&setTimeout(()=>{var e,t;null==(e=N.current)||e.focus(),null==(t=N.current)||t.select()},100)},[s]);let A=()=>{r.trim()&&t(r.trim()),history.back()},S=e=>{history.back(),e(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-6 bg-white min-h-px",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4 mt-10",children:[(0,a.jsx)("div",{className:"w-28 h-28 bg-pink-50 border-2 border-pink-200 rounded-3xl flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-4xl font-bold text-[#35527B]",children:(e=>{if(!e)return"";let t=e.split(" ");return t.length>1&&t[t.length-1]?"".concat(t[0][0]).concat(t[t.length-1][0]).toUpperCase():e.substring(0,2).toUpperCase()})(e)})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pl-3",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:e}),(0,a.jsx)("button",{onClick:()=>{g(e),k(i)},className:"p-1 text-gray-500 hover:text-gray-800 transition-colors",children:(0,a.jsx)(h,{size:20})})]}),(0,a.jsx)("div",{className:"w-full max-w-sm pt-8",children:w.map(e=>(0,a.jsx)(C,{icon:e.icon,text:e.text,onClick:e.onClick},e.text))})]})}),(0,a.jsx)(u.N,{children:s&&(0,a.jsx)(p.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>S(i),className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-end",children:(0,a.jsxs)(p.P.div,{initial:{y:"100%"},animate:{y:"0%"},exit:{y:"100%"},transition:{type:"tween",ease:"circOut",duration:.3},onClick:e=>e.stopPropagation(),className:"bg-white w-full max-w-lg rounded-t-2xl p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"font-bold text-lg",children:"Profile Name"}),(0,a.jsx)("button",{onClick:()=>S(i),className:"p-1 rounded-full hover:bg-gray-100",children:(0,a.jsx)(m.A,{size:20})})]}),(0,a.jsx)("input",{ref:N,type:"text",value:r,onChange:e=>g(e.target.value),onKeyDown:e=>"Enter"===e.key&&A(),className:"w-full border-2 border-gray-300 focus:border-blue-500 p-3 rounded-lg transition-colors",placeholder:"Enter your name"}),(0,a.jsx)("button",{onClick:A,className:"w-full bg-blue-500 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-blue-600 transition-colors",children:"Save"})]})})}),(0,a.jsx)(u.N,{children:f&&(0,a.jsx)(v,{onClose:()=>S(j)})}),(0,a.jsx)(u.N,{children:y&&(0,a.jsx)(z,{onClose:()=>S(b)})})]})}},6280:(e,t,s)=>{Promise.resolve().then(s.bind(s,5153))},7580:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])}},e=>{e.O(0,[84,831,367,413,117,966,631,441,964,358],()=>e(e.s=6280)),_N_E=e.O()}]);